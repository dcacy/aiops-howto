<script>
  var baseurl = '{{ site.baseurl }}'
</script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script src="{{ "/assets/js/bootstrap.min.js" | relative_url }} "></script>
<!-- <script src="{{ "/assets/js/typeahead.bundle.min.js" | relative_url }} "></script> -->
<script src="{{ "/assets/js/clipboard.min.js" | relative_url }} "></script>

<script>

  var clipboard = new ClipboardJS('.btn');
  
  var allCodeBlocksElements = $("pre > code");

  allCodeBlocksElements.each(function(i) {
    var currentId = "codeblock" + (i + 1);
    $(this).attr("id", currentId);
    // console.info("raw this is", this);
    // console.info('parent is', $(this).parent());

  //   var clipButton =
  //     '<button title="Copy to clipboard" class="btn" data-clipboard-target="#' +
  //     currentId +
  //     '"><img src="https://clipboardjs.com/assets/images/clippy.svg" width="13" alt="Copy to clipboard"></button>';
  //   $(this).before(clipButton);
  // });

    var clipButton =
      '<span class="input-group-button"> ' +
      '<button class="btn" style="float:right;" type="button" data-clipboard-target="#' + currentId + '">' +
      '<img class="clippy" src="{{"/assets/images/clippy.svg" | relative_url }}" width="13" alt="Copy to clipboard">' +
      '</button>' +
      '</span>';
    $(this).parent().before(clipButton);
  });

  clipboard.on('success', function(e) {
      // console.info('Action:', e.action);
      // console.info('Text:', e.text);
      // console.info('Trigger:', e.trigger);

      e.clearSelection();
  });

  clipboard.on('error', function(e) {
      console.error('Action:', e.action);
      console.error('Trigger:', e.trigger);
  });
  
</script>
